<h1 class="first-heading__title">User Gestion</h1>

<div class="table-container">
    <table mat-table [dataSource]="dataSource" class="table" matSort>

        <!-- ID Column -->
        <ng-container matColumnDef="Id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let user">
            {{user.id}}
        </td>
        </ng-container>

        <!-- Username Column -->
        <ng-container matColumnDef="Username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>
        <td mat-cell *matCellDef="let user">{{ user.username }}</td>
        </ng-container>

        <!-- Roles Column -->
        <ng-container matColumnDef="Roles">
        <th mat-header-cell *matHeaderCellDef>Roles</th>
        <td mat-cell *matCellDef="let user">{{ user.userRole.map(formatRoletoString).join(', ') }}</td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="Actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let user">
            <div class="action-buttons">
                <button mat-button class="button--primary" (click)="editUser(user.id)">Edit</button>
                <button mat-button class="button--primary" (click)="deleteUser(user.id)">Delete</button>
            </div>
        </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- Paginator -->
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                    showFirstLastButtons
                    aria-label="Select page of users">
    </mat-paginator>

</div>